<geerts-skeleton-loader [toggle]="users" [count]="5">
  <div class="d-flex justify-content-between mb-3">
    <geerts-search [searchFunction]="filterUsers"></geerts-search>
    <!-- <div class="form-group">
      <div class="input-group input-group-sm">
        <input type="text" class="form-control" placeholder="Zoeken..." />
        <span class="input-group-text">
          <i class="fas fa-search"></i>
        </span>
      </div>
    </div> -->

    <button
      class="btn btn-sm btn-outline-secondary rounded px-3"
      (click)="addUser()"
    >
      <i class="fas fa-plus me-2"></i>
      Gebruiker aanmaken
    </button>
  </div>
  <table class="table table-sm table-hover">
    <thead>
      <tr>
        <th style="width: 80px">#</th>
        <th>Bedrijf</th>
        <th>Naam</th>
        <th>BTW</th>
        <th style="width: 400px">Email</th>
        <th>&nbsp;</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let user of filteredUsers">
        <td>
          {{ user.customerNumber }}
        </td>
        <td>
          {{ user.displayName }}
        </td>
        <td>
          {{ user.contactName }}
        </td>
        <td>
          {{ user.taxNumber }}
        </td>
        <td>
          {{ user.email }}
        </td>
        <td class="text-end">
          <div class="btn-group btn-group-sm" role="group">
            <button
              type="button"
              [disabled]="loading"
              class="btn btn-link"
              title="Aanpassen"
              (click)="editUser(user)"
            >
              <i class="fas fa-pen"></i>
            </button>
            <button
              type="button"
              [disabled]="loading"
              class="btn btn-link"
              title="Verwijderen"
              (click)="deleteUser(user)"
            >
              <i class="fas fa-trash"></i>
            </button>
          </div>
        </td>
      </tr>
    </tbody>
  </table>
</geerts-skeleton-loader>

<ng-template #confirmDeleteUser>
  <geerts-cofirm-delete-user></geerts-cofirm-delete-user>
</ng-template>
